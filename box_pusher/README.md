# Boxpusher
Python 推箱子游戏 Pygame 仅Linux
========================

主逻辑：

利用Pygame模块 单机关闭退出游戏 键盘的上下左右（代码中依次用u, d, l, r来表示）分别对应地图中的相应移动方向

地图：

使用雪碧图 提取图像元素 再分别对应相应的字符 （e.g. '#' 代表 墙）

而地图元素的位置则用一个伪二维列表（就是 一维列表 ）来表示

移动：

移动是按照上下左右获取位移量 再把目标位置的元素相应地替换掉 不断刷新

注意 这里的左右位移量的绝对值为1 这很好理解 但是上下位移量的绝对值则是地图的横向长度 因为地图是个一维列表 对其进行操作需要加减每行的长度 可以把地图看做是一长排来思考 这。。也很好理解

移动分为两种： 1 只有人动 2 箱子和人一起动

1 只需考虑人的位移

2 需要考虑箱子移动后与人移动后相对于人原位置的相对位移 箱子相对于人的原位位移是2倍的人的位移

3* 不要忘了动地面



撤销与重做：

solution列表记录每次移动的操作 撤销时取最后一步（[-1]）加到todo列表里

然后就像在_move()函数中的反操作一样操作

如果人动了 就反向动人 如果人和箱子都动了 就都反向依次动 依然不要忘了动地面

那么如何判断到底谁动了呢？》在之前的代码中 如果人动了就在solution列表里加上小写字符 如果都动了就加大写字符

redo() 重做就是把todo列表里最后一项拿出来执行



最后就是根据pygame里预设的键盘常量一个个对应u,d,l,r 也就是上下左右

help from shiyanlou.com
